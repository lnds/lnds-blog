<!DOCTYPE html>
<html lang="es-cl" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Latencia (seguimos reciclando) | La Naturaleza del Software</title>
<link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml" /><meta property="og:url" content="http://localhost:1313/posts/2009/latencia-seguimos-reciclando/">
  <meta property="og:site_name" content="La Naturaleza del Software">
  <meta property="og:title" content="Latencia (seguimos reciclando)">
  <meta property="og:description" content="“No sé lo que quiero, ¡pero lo quiero ya!”
– Luca Prodan, fallecido vocalista y lider de Sumo
“Los problemas de Ancho de banda se curan con dinero. Los problemas de Latencia son más difíciles, porque la velocidad de la luz es fija. (No le puedes robar a Dios)” -- Anónimo 1
Cuando medimos el desempeño de una aplicación Web, el aspecto técnico que más afecta a la percepción de usuario es la Latencia.">
  <meta property="og:locale" content="es_cl">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2009-03-06T08:25:11-03:00">
    <meta property="article:modified_time" content="2009-03-06T08:25:11-03:00">
    <meta property="article:tag" content="Latencia">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Latencia (seguimos reciclando)">
  <meta name="twitter:description" content="“No sé lo que quiero, ¡pero lo quiero ya!”
– Luca Prodan, fallecido vocalista y lider de Sumo
“Los problemas de Ancho de banda se curan con dinero. Los problemas de Latencia son más difíciles, porque la velocidad de la luz es fija. (No le puedes robar a Dios)” -- Anónimo 1
Cuando medimos el desempeño de una aplicación Web, el aspecto técnico que más afecta a la percepción de usuario es la Latencia.">

    <link rel="stylesheet" href="/css/root.css">
    <link rel="stylesheet" href="/css/bundle.css">

      <script src="/js/bundle.js"></script><script defer src="/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js" integrity="sha256-ZFlLEl97eL30&#43;oMWlVkiu&#43;uxzWuu8/FmVL/KIDCfGPg="></script>
<script defer src="/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js" integrity="sha256-HZgPhN8R8&#43;t8jF8X9UHUmgYRYI3xed10&#43;n8GIl61as4="></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

</head>
<body class="notransition">
  <div id="container">
    <header id="main-header"><div role="navigation" aria-label="Main">
  <div class="nav-left">
    <a href="http://localhost:1313/" style="color: inherit;">La Naturaleza del Software</a>
  </div>
  <div class="nav-right">
    <div style="position:absolute;width:0px;height:0px;">
      <div id="nav-dropdown-menu" class="hidden" href="#">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
</div>
    </div>
    <a id="nav-dropdown-button" href="#"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
    <div id="nav-menu">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
</div>
    <a id="theme-switcher" href="#">
<svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

<svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
  </div>
</div>
</header>
    <div class="flex grow">
      <div id="main-pane">
        <main id="main-content"><div class="single-header">
<ol class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="http://localhost:1313/">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content='1' />
    </li>
    <span>&nbsp»&nbsp</span>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="http://localhost:1313/posts/">
        <span itemprop="name">Posts</span>
      </a>
      <meta itemprop="position" content='2' />
    </li>
    <span>&nbsp»&nbsp</span>
</ol>
<h1>Latencia (seguimos reciclando)</h1><time class="dim" datetime="2009-03-06T08:25:11-03:00">March 6, 2009</time><div class="term-container"><div class="tag">
        <a href="http://localhost:1313/tags/latencia/">#latencia</a>
      </div></ol></div>
  <section class="page-section"><blockquote>
<p>&ldquo;No sé lo que quiero, ¡pero lo quiero ya!&rdquo;<br>
&ndash; <a href="http://es.wikipedia.org/wiki/Luca_Prodan">Luca Prodan</a>, fallecido vocalista
y lider de Sumo</p></blockquote>
<blockquote>
<p>&ldquo;Los problemas de Ancho de banda se curan con dinero. Los problemas
de Latencia son más difíciles, porque la velocidad de la luz es fija.
(No le puedes robar a Dios)&rdquo; -- Anónimo <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p></blockquote>
<p>Cuando medimos el desempeño de una aplicación Web, el aspecto técnico
que más afecta a la percepción de usuario es la <strong>Latencia</strong>.</p>
<p>Aplicando lo dicho por el gran Luca Prodan, el usuario no sabe lo que
quiere, pero quiere que se le entregue con prontitud.</p>
<p>Para entender los conceptos de evaluación de desempeño vamo a definir
las siguientes variables, en términos sencillos:</p>
<ul>
<li>Ancho de Banda: Cantidad de datos que pueden ser enviados por la red
en un segundo.</li>
<li>Rendimiento (Throughput): Cantidad de trabajo que puede realizar el
servidor en un periodo de tiempo.</li>
<li>Contención: Competencia por los recursos, se da cuando tenemos más
de 1 cliente accediendo al servidor.</li>
<li>Latencia: tiempo para realizar una operación simple asumiendo que no
hay contención [1]. Tiempo de respuesta efectivo medido por parte
del cliente.</li>
</ul>
<p>La latencia es función del ancho de banda, y el throughput, sin
considerar la contención:</p>
<pre><code>    Latencia = F (Ancho Banda, Througput)
</code></pre>
<p>El ancho de banda se mide en bits por segundo (bps).</p>
<p>Normalmente se considera un 80% de uso del canal.</p>
<blockquote>
<p>Ejemplo 1: Si tenemos un ancho de banda de 256 (Kbps), es decir, 32
KiloBytes por segundo (KB/s), entonces el límite teórico considerando
el 80% de eficiencia, es de 25.6 KB/s (32*0,8). Por lo tanto, una
página de 40 KB, será descargada en 1,56 segundos.</p></blockquote>
<p>Si el rendimiento del servidor es de 100 páginas por segundo (p/s),
entonces, en generar una página se demorará 1/100 segundos. Luego la
Latencia para la página de 40 Kbps es de 1,56 + 0,01, o sea, 1,57
segundos por página.</p>
<h2 id="fórmula-práctica-para-la-latencia">Fórmula práctica para la Latencia</h2>
<p>Una función práctica para medir la latencia está dada por la siguiente
ecuación:</p>
<blockquote>
<p>L = (1/T)+{P/W)</p></blockquote>
<p>Donde:</p>
<ul>
<li>T : Throughput (rendimiento) expresado en Paginas por Segundo</li>
<li>P: Tamaño de la página en Kilobytes/Pagina</li>
<li>W: Ancho banda efectivo en Kilobytes por segundo (se puede calcular
rápidamente dividiendo el ancho de banda en Kbps por 10).</li>
</ul>
<blockquote>
<p>Ejemplo 2: La contención tiene un efecto sobre el throughput:
supongamos que tenemos 1.000 usuarios, queriendo acceder a una página
al mismo tiempo, ésta debe realizar una consulta a la base de datos y
entregar un resultado, que corresponde a 40 kilobytes de datos
(incluyendo el código html). Asumamos que tenemos un pool de 10
conexiones a la base de datos, y que la consulta toma unos 250ms en
ejecutarse. De acuerdo a la Teoría de Colas, el tiempo promedio de
espera para usar la conexión es de 12,375 ms, luego, el tiempo
promedio para generar la página es de 12,625 ms, o sea, el throughput
en este caso es de 0,08 p/s (1000/12,625). Si el ancho de banda es 256
Kbps, tendremos que la latencia teórica es de: L = 1/0.08 [seg/pag]</p>
<ul>
<li>40/25.6 [kb/pag]/[kb/seg] = 14.06 [seg/pag]</li>
</ul></blockquote>
<p>Latencia Ideal** : corresponde a la latencia sin considerar el
throughput, es decir:</p>
<pre><code>    Li = P / W
</code></pre>
<h2 id="consejos-para-disminuir-la-latencia">Consejos para disminuir la Latencia</h2>
<p>Los problemas de latencia son los más difíciles de abordar, el artículo
de David A. Patterson de la CACM [1], sugiere 3 técnicas típicas para
afrontar los problemas de latencia:</p>
<ol>
<li>Caching: Originalmente nació porque el acceso al almacenamiento
secundario siempre es más lento, en este caso, tenemos ejemplos
donde aplica el caching, guardar los objetos precalculados,
guardar tablas con parámetros, etc.</li>
<li>Replicación: Esto es más costoso, pero uno podría tener réplicas
de los sitios en varios servidores (Server farm) balanceando la
carga entre ellos.</li>
<li>Predicción: Tratar de adivinar que se va a necesitar, por ejemplo,
si la tabla de ciudades se va a usar siempre, en vez de leerla 1
vez, puedo tener un objeto de aplicación que lea la tabla de
ciudades y se mantiene una copia compartida por todas las  sesiones.</li>
</ol>
<p>Hay más técnicas, como aplicar patrones de diseño, introducir una capa
de negocios intermedia, etc.</p>
<p>Todas estas decisiones deben tomarse con cuidado y con la asesoría
adecuada.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Latency Lags BandWidth, David A. Patterson, Comunications of the
ACM Magazine (CACM), Oct, 2004&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
</section></main>
        <footer id="main-footer"><div class="footer">
  <a href="#">Scroll to Top</a>
  <div class="footer-copyright">
    <div class="dim">© 2025 </div>
    <div>Made with ❤️ and powered by <a href="https://github.com/math-queiroz/rusty-typewriter" target="_blank">Rusty Typewriter</a> theme for <a href="https://gohugo.io/" target="_blank">Hugo</a></div>
  </div>
</div>
</footer>
      </div><aside id="side-pane" class="side-sticky"><div class="side-details">
    <span>704 words</span>
    <span>4 - 5 minutes read</span></div><h3>Table Of Contents</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#fórmula-práctica-para-la-latencia">Fórmula práctica para la Latencia</a></li>
    <li><a href="#consejos-para-disminuir-la-latencia">Consejos para disminuir la Latencia</a></li>
  </ul>
</nav></aside></div>
  </div>
</body>
</html>
