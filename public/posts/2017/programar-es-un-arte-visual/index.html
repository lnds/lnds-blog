<!DOCTYPE html>
<html lang="es-cl" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Programar es un Arte Visual | La Naturaleza del Software</title>
<link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml" /><meta property="og:url" content="http://localhost:1313/posts/2017/programar-es-un-arte-visual/">
  <meta property="og:site_name" content="La Naturaleza del Software">
  <meta property="og:title" content="Programar es un Arte Visual">
  <meta property="og:description" content="El video de más abajo, junto con la hermosa imagen fractal, que acompañan este post, son visualizaciones del código fuente de un sistema en los que mi equipo ha trabajado desde 2015. Corresponde a la suma de seis repositorios, que corresponden a seis micro servicios, que interactúan entre si para dar forma a un sistema mayor.
Visualización de código generado por mi equipo">
  <meta property="og:locale" content="es_cl">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2017-07-02T08:25:11-03:00">
    <meta property="article:modified_time" content="2017-07-02T08:25:11-03:00">
    <meta property="article:tag" content="Programación">
    <meta property="article:tag" content="Visualizaciones">
    <meta property="article:tag" content="Código">
    <meta property="og:image" content="http://localhost:1313/posts/2017/programar-es-un-arte-visual/featured.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/posts/2017/programar-es-un-arte-visual/featured.png">
  <meta name="twitter:title" content="Programar es un Arte Visual">
  <meta name="twitter:description" content="El video de más abajo, junto con la hermosa imagen fractal, que acompañan este post, son visualizaciones del código fuente de un sistema en los que mi equipo ha trabajado desde 2015. Corresponde a la suma de seis repositorios, que corresponden a seis micro servicios, que interactúan entre si para dar forma a un sistema mayor.
Visualización de código generado por mi equipo">

    <link rel="stylesheet" href="/css/root.css">
    <link rel="stylesheet" href="/css/bundle.css">

      <script src="/js/bundle.js"></script><script defer src="/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js" integrity="sha256-ZFlLEl97eL30&#43;oMWlVkiu&#43;uxzWuu8/FmVL/KIDCfGPg="></script>
<script defer src="/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js" integrity="sha256-HZgPhN8R8&#43;t8jF8X9UHUmgYRYI3xed10&#43;n8GIl61as4="></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

</head>
<body class="notransition">
  <div id="container">
    <header id="main-header"><div role="navigation" aria-label="Main">
  <div class="nav-left">
    <a href="http://localhost:1313/" style="color: inherit;">La Naturaleza del Software</a>
  </div>
  <div class="nav-right">
    <div style="position:absolute;width:0px;height:0px;">
      <div id="nav-dropdown-menu" class="hidden" href="#">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a href="https://Newsletter.lnds.net"
      >Newsletter</a>
    </div>
    <div class="nav-item">
      <a href="/books/"
      >Books</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >About</a>
    </div>
</div>
    </div>
    <a id="nav-dropdown-button" href="#"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
    <div id="nav-menu">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a href="https://Newsletter.lnds.net"
      >Newsletter</a>
    </div>
    <div class="nav-item">
      <a href="/books/"
      >Books</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >About</a>
    </div>
</div>
    <a id="theme-switcher" href="#">
<svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

<svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
  </div>
</div>
</header>
    <div class="flex grow">
      <div id="main-pane">
        <main id="main-content"><div class="single-header">
<ol class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="http://localhost:1313/">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content='1' />
    </li>
    <span>&nbsp»&nbsp</span>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="http://localhost:1313/posts/">
        <span itemprop="name">Posts</span>
      </a>
      <meta itemprop="position" content='2' />
    </li>
    <span>&nbsp»&nbsp</span>
</ol>
<h1>Programar es un Arte Visual</h1><time class="dim" datetime="2017-07-02T08:25:11-03:00">July 2, 2017</time><div class="term-container"><div class="tag">
        <a href="http://localhost:1313/tags/programaci%C3%B3n/">#programación</a>
      </div><div class="tag">
        <a href="http://localhost:1313/tags/visualizaciones/">#visualizaciones</a>
      </div><div class="tag">
        <a href="http://localhost:1313/tags/c%C3%B3digo/">#código</a>
      </div></ol></div>
  <section class="page-section"><p>El video de más abajo, junto con la hermosa imagen fractal, que
acompañan este post, son visualizaciones del código fuente de un sistema
en los que mi equipo ha trabajado desde 2015. Corresponde a la  suma de
seis repositorios, que corresponden a seis micro servicios, que
interactúan entre si para dar forma a un sistema mayor.</p>
<p>
      <div
          style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
        <iframe
          src="https://player.vimeo.com/video/223893340?dnt=0"
            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allow="fullscreen">
        </iframe>
      </div>

Visualización de código generado por mi equipo</p>
<p>Las visualizaciones las obtuve usando el utilitario
<a href="http://gource.io/">Gource</a>, a partir del repositorio Git que usamos en la empresa. </p>
<p>Una visualización más detallada con los nombres de los usuarios la
pueden ver acá: <a href="https://vimeo.com/223929447">https://vimeo.com/223929447</a>.</p>
<p>Si quieres hacer lo mismo con el código escrito por ti o por tu equipo,
puedes descargar e instalar este utilitario. Usarlo es bastante
sencillo. Te invito a hacerlo, e incluso a compartir tus visualizaciones
en los comentarios. </p>
<p>En mi caso ejecuté la siguiente secuencia de comandos en mi Mac para
combinar los 6 repositorios:</p>
<pre><code>$ git clone ... repo1
....
$ git clone ... repo6

$ gource --output-custom-log log1.txt repo1
$ gource --output-custom-log log2.txt repo2
...
$ gource  --hide filenames,dirnames,progress,users combined.txt --seconds-per-day 0.1
 --auto-skip-seconds 1 -1280x720 -o - | ffmpeg -y -r 60 -f image2pipe 
-vcodec ppm -i - -vcodec libx264 -preset ultrafast -pix_fmt yuv420p -crf 1 
-threads 0 -bf 0 gource.mp4
</code></pre>
<p>Notar que usa también el utilitario <strong>ffmpeg</strong>.</p>
<p>Para agregar la música (The Holy Drinker, de Steven Wilson), usé iMovie.</p>
<p>La opción gource &ndash;output-custom-log genera un archivo con cuatro
campos por registro o linea, con la siguiente forma:</p>
<pre><code>1431611496|jorellana|A|/application.properties
</code></pre>
<p>El primer campo es la fecha en formato Unix, el segundo campo es el
nombre del usuario, luego viene una letra que indica la acción: A, M o
D, por Agregar, Modificar o Borrar (Delete). El cuarto campo es el
archivo (el path completo).</p>
<p>Hay un quinto campo  opcional, que corresponde al color expresado en
formato RGB hexadecimal. Gource no genera este campo, así que genera el
color de manera automática durante la generación del video.</p>
<p>Para crear una visualización en que los colores de los archivos reflejen
a su creador, agregué el código de color. Para esto usé este pequeño
script en perl:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-perl" data-lang="perl"><span style="display:flex;"><span>    <span style="color:#66d9ef">use</span> Digest::MD5 <span style="color:#e6db74">qw(md5 md5_hex md5_base64)</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">&lt;&gt;</span>) {
</span></span><span style="display:flex;"><span>            chomp();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">my</span> ($a,$b,$c,$d) <span style="color:#f92672">=</span> split(<span style="color:#e6db74">/\|/</span>, $_);
</span></span><span style="display:flex;"><span>            $e <span style="color:#f92672">=</span> substr(md5_hex($b), <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">6</span>);;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;$a|$b|$c|$d|$e\n&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>Cómo verán agregué un código de color basado en el hash MD5 del nombre
del usuario (tomando los primeros 6 caracteres), con esto el archivo
queda así:</p>
<pre><code>1431611496|jorellana|A|/application.properties|e1bb5f
</code></pre>
<p>El resultado lo puedes ver acá:
<a href="https://vimeo.com/223929447">https://vimeo.com/223929447</a></p>
<p>Cómo pueden ver se puede personalizar la visualización para lograr
efectos interesantes.</p>
<h2 id="y-para-qué-sirve-todo-esto">¿Y para qué sirve todo esto?</h2>
<p>Mostrar este video al equipo puede ser una experiencia muy motivante.</p>
<p>Pero además la exploración del código mediante esta herramienta te
permite obtener algo de información sober la estructura del código y el
proceso de construcción. Por ejemplo, puedes ver cual es la contribución
de cada miembro del  equipo, obtener una idea de cómo se organiza el
código, cuanto desorden hay en la estructura, etc.</p>
<p>El video de arriba omite varios detalles, puesto que el objetivo es más
bien artístico.  </p>
<p>Abajo hay otra visualización más típica, en este caso se trata del
código de 9 desafíos en 9 lenguajes (<a href="https://github.com/lnds/9d9l">https://github.com/lnds/9d9l</a>). En
este caso dejé visible todos los parámetros de visualización disponibles
(salvo la fecha):</p>

      <div
          style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
        <iframe
          src="https://player.vimeo.com/video/223922723?dnt=0"
            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allow="fullscreen">
        </iframe>
      </div>

<p>Visualización de https://github.com/lnds/9d9l</p>
<p>Pueden notar información más útil para un arquitecto o un desarrollador
de software, este video entrega intuiciones de cómo se organiza el
código, quién aporta qué al proyecto,
etc.</p>
<p>Gource tiene un modo interactivo, donde puedes avanzar o retroceder,
colocar el mouse sobre cada punto o rama, con lo que puedes ver de qué
se trata. Esto te permite discutir o razonar sobre la estructura física
que va tomando el código en tu proyecto. Las limitaciones de esta
herramienta están dadas por la capacidad de abrir diálogos entre los
miembros del grupo.</p>
<p>Hay otras formas de visualizar el código, obtener métricas, indicadores
de calidad y complejidad. Por ejemplo, con herramientas como
<a href="https://www.sonarqube.org/">SonarQube</a> o
<a href="https://www.codacy.com/">Codacy</a>, pero hablaremos de esas herramientas
en un próximo artículo.</p>
<p>Por ahora los dejo con estos videos, y los invito a compartir sus
visualizaciones en los comentarios.</p>
</section></main>
        <footer id="main-footer"><div class="footer">
  <a href="#">Scroll to Top</a>
  <div class="footer-copyright">
    <div class="dim">© 2025 Eduardo Díaz</div>
    <div>Made with ❤️ and powered by <a href="https://github.com/math-queiroz/rusty-typewriter" target="_blank">Rusty Typewriter</a> theme for <a href="https://gohugo.io/" target="_blank">Hugo</a></div>
  </div>
</div>
</footer>
      </div><aside id="side-pane" class="side-sticky"><div class="side-details">
    <span>682 words</span>
    <span>4 - 5 minutes read</span></div><h3>Table Of Contents</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#y-para-qué-sirve-todo-esto">¿Y para qué sirve todo esto?</a></li>
  </ul>
</nav><h3>Attachments</h3>
    <ul><li><a href="http://localhost:1313/posts/2017/programar-es-un-arte-visual/featured.png">featured.png</a></li></ul><h3>Related</h3>
    <ul><li><a href="/posts/2010/la-programaci%C3%B3n-en-10-anos-mas/">La programación en 10 años más</a></li><li><a href="/posts/2017/pour-some-syntactic-sugar-on-me/">Pour Some Syntactic Sugar on Me</a></li><li><a href="/posts/2017/fake-it-till-you-make-it/">Fake it till you make it</a></li><li><a href="/posts/2017/vectores/">Vectores</a></li><li><a href="/posts/2016/como-obtener-el-reporte-del-clima/">Cómo obtener el reporte del clima</a></li></ul></aside></div>
  </div>
</body>
</html>
