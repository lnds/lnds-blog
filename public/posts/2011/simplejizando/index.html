<!DOCTYPE html>
<html lang="es-cl" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simplejizando | La Naturaleza del Software</title>
<link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml" /><meta property="og:url" content="http://localhost:1313/posts/2011/simplejizando/">
  <meta property="og:site_name" content="La Naturaleza del Software">
  <meta property="og:title" content="Simplejizando">
  <meta property="og:description" content="Una de las ventajas de publicar Ogu en esta etapa es que me permite confrontar mi diseño con los lectores y potenciales usuarios. He recibido comentarios en el blog y en privado que me han permitido enriquecer y determinar algunos problemas en la sintaxis.
El principal problema reside en la ambigüedad de las declaraciones, la gramática hasta ahora permitía el uso opcional de las palabras reservadas &#39;def&#39;, &#39;var&#39; y &#39;val&#39;.">
  <meta property="og:locale" content="es_cl">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2011-12-20T08:25:11-03:00">
    <meta property="article:modified_time" content="2011-12-20T08:25:11-03:00">
    <meta property="article:tag" content="Compiladores">
    <meta property="article:tag" content="Ogú">
    <meta property="article:tag" content="Lenguajes">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Simplejizando">
  <meta name="twitter:description" content="Una de las ventajas de publicar Ogu en esta etapa es que me permite confrontar mi diseño con los lectores y potenciales usuarios. He recibido comentarios en el blog y en privado que me han permitido enriquecer y determinar algunos problemas en la sintaxis.
El principal problema reside en la ambigüedad de las declaraciones, la gramática hasta ahora permitía el uso opcional de las palabras reservadas &#39;def&#39;, &#39;var&#39; y &#39;val&#39;.">

    <link rel="stylesheet" href="/css/root.css">
    <link rel="stylesheet" href="/css/bundle.css">

      <script src="/js/bundle.js"></script><script defer src="/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js" integrity="sha256-ZFlLEl97eL30&#43;oMWlVkiu&#43;uxzWuu8/FmVL/KIDCfGPg="></script>
<script defer src="/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js" integrity="sha256-HZgPhN8R8&#43;t8jF8X9UHUmgYRYI3xed10&#43;n8GIl61as4="></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

</head>
<body class="notransition">
  <div id="container">
    <header id="main-header"><div role="navigation" aria-label="Main">
  <div class="nav-left">
    <a href="http://localhost:1313/" style="color: inherit;">La Naturaleza del Software</a>
  </div>
  <div class="nav-right">
    <div style="position:absolute;width:0px;height:0px;">
      <div id="nav-dropdown-menu" class="hidden" href="#">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
</div>
    </div>
    <a id="nav-dropdown-button" href="#"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
    <div id="nav-menu">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
</div>
    <a id="theme-switcher" href="#">
<svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

<svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
  </div>
</div>
</header>
    <div class="flex grow">
      <div id="main-pane">
        <main id="main-content"><div class="single-header">
<ol class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="http://localhost:1313/">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content='1' />
    </li>
    <span>&nbsp»&nbsp</span>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="http://localhost:1313/posts/">
        <span itemprop="name">Posts</span>
      </a>
      <meta itemprop="position" content='2' />
    </li>
    <span>&nbsp»&nbsp</span>
</ol>
<h1>Simplejizando</h1><time class="dim" datetime="2011-12-20T08:25:11-03:00">December 20, 2011</time><div class="term-container"><div class="tag">
        <a href="http://localhost:1313/tags/compiladores/">#compiladores</a>
      </div><div class="tag">
        <a href="http://localhost:1313/tags/og%C3%BA/">#ogú</a>
      </div><div class="tag">
        <a href="http://localhost:1313/tags/lenguajes/">#lenguajes</a>
      </div></ol></div>
  <section class="page-section"><p>Una de las ventajas de publicar Ogu en esta etapa es que me permite
confrontar mi diseño con los lectores y potenciales usuarios. He
recibido comentarios en el blog y en privado que me han permitido
enriquecer y determinar algunos problemas en la sintaxis.</p>
<p>El principal problema reside en la ambigüedad de las declaraciones, la
gramática hasta ahora permitía el uso opcional de las palabras
reservadas 'def', 'var' y 'val'.</p>
<p>De este modo la siguiente declaración</p>
<blockquote>
<p>x := 1</p></blockquote>
<p>era equivalente a esta otra:</p>
<blockquote>
<p>val x := 1</p></blockquote>
<p>y obligaba al uso de var para las variables mutables:</p>
<blockquote>
<p>var x:= 1</p></blockquote>
<p>Por otra parte la declaración de funciones era de la siguiente manera</p>
<blockquote>
<p>factorial : Int -&gt; Int</p></blockquote>
<p>factorial 0 = 1</p>
<p>factorial n = n * factorial (n-1)</p>
<p>El problema es que una de las características de Ogu es que las
funciones son <em>first class</em>, de este modo la siguiente declaración</p>
<blockquote>
<p>f : Int -&gt; Int</p></blockquote>
<p>es ambigua, puede ser la variable inmutable f de tipo función Int-&gt;Int,
o la función f. La gramática actual exige que inmediatamente después de
esta declaración debe venir una expresión que corresponde a la
definición del cuerpo de la función, esto obliga al uso de var o val si
queremos que f sea una variable que almacenará una función.</p>
<p>Ante esto he decidido hacer los siguientes cambios:</p>
<ul>
<li>
<p>var, val y def son obligatorios al declarar variables o funciones.</p>
</li>
<li>
<p>al inferir tipos los dos puntos son opcionales.</p>
</li>
<li>
<p>También las palabras class y trait que eran opcionales ahora son
obligatorias, y la definición de una clase debe ir precedida con la
palabra reservada def</p>
</li>
<li>
<p>La consecuencia de esto es que ahora las clases pueden empezar con
minúsculas (lo que me simplifica un problema con el runtime de java
y los packages)</p>
</li>
</ul>
<p>Con estas consideraciones los ejemplos del primer artículo de esta serie
quedan así:</p>
<blockquote>
<p><strong>val</strong> blog = &ldquo;La naturaleza del software&rdquo; // blog es de tipo String</p></blockquote>
<p><strong>val</strong> ogú = Cavernícola(nombre: &ldquo;ogú&rdquo;) // ogú es de tipo Cavernícola</p>
<p><strong>val</strong> x, y := 1, 2 // x e y son de tipo Int, notar que el ':' es
opcional</p>
<p>Las funciones se definen de esta forma:</p>
<blockquote>
<p><strong>def</strong> factorial : Int &ndash;&gt; Int</p></blockquote>
<p><strong>def</strong> factorial 0 = 1</p>
<p><strong>def</strong> factorial n = n * factorial (n-1)</p>
<p>La forma abreviada es:</p>
<blockquote>
<p><strong>def</strong> factorial : (n:Int)&ndash;&gt; Int  =<em>*if  *</em>(n == 0) 1 <em>*else *</em>
n * factorial(n-1)</p></blockquote>
<p>Lo interesante es que con este cambio también  se puede escribir de la
siguiente manera:</p>
<blockquote>
<p><strong>def</strong> factorial 0 = 1</p></blockquote>
<p><strong>def</strong> factorial n = n * factorial (n-1)</p>
<p>Potenciando más la inferencia de tipos.</p>
<p>Este cambio permite desambiguar la siguiente declaración</p>
<blockquote>
<p><strong>val</strong> f : Int -&gt; Int</p></blockquote>
<p>Permitiendo lo siguiente:</p>
<blockquote>
<p>f = factorial</p></blockquote>
<p>Las clases se declaran de este modo ahora:</p>
<blockquote>
<p><strong>def</strong> Persona : <strong>class</strong> (nombre: String, edadInicial: Int) ={</p></blockquote>
<p><em>*       var</em>* _edad = edadInicial</p>
<p><em>*      def</em>* saludar : () = println &ldquo;hola &quot; + nombre</p>
<p><em>*       def</em>* celebrarCumpleaños : () = { _edad = _edad + 1<br>
println &ldquo;¡¡ feliz cumpleaños &quot; + nombre + &ldquo;!!&rdquo;<br>
} }</p>
<p>Los ejemplos del artículo anterior también deben ser re escritos:</p>
<blockquote>
<p><strong>def</strong> Stack{T}  : <strong>class</strong> () = {</p></blockquote>
<p><em>*      var</em>* _data : [T] = []</p>
<p><em>*     def</em>* push : (x:T) = _data = x :: _data</p>
<p><em>*     def</em>* pop : ()-&gt;(r:T) = { r = head _data<br>
_data = tail _data<br>
} }</p>
<p>Las interfaces en Ogu se llaman traits (rasgos), siguiendo la tradición
de Scala:</p>
<blockquote>
<p><strong>def</strong> Figura : <strong>trait</strong> = {</p></blockquote>
<p><em>*      def</em>* area : ()-&gt;Int <em>*       def</em>* perimetro : () &ndash;&gt; Int
}</p>
<p><strong>def</strong> Circulo : <strong>class</strong> (radio:Int) ~ Figura = {</p>
<p><em>*         def</em>* area = pi * radio ^ 2</p>
<p><em>*         def</em>* perimetro = 2 * pi * radio</p>
<p>}</p>
<p><strong>def</strong> Cuadrado : <strong>class</strong> (lado:Int) ~ Figura ={</p>
<p><em>*         def</em>* area = lado*lado</p>
<p><em>*         def</em>* perimetro = lado*4</p>
<p>}</p>
<p>Además con esto queda más claro que area y perimetro son funciones y no
variables.</p>
<p>Este ejercicio me hizo darme cuenta de que estaba cayendo en el vicio
que pretendía evitar, el vicio de la <em>simplejización</em>.  En el afán de
ahorrarme algunas palabras reservadas estaba haciendo de Ogu un lenguaje
con una sintaxis que terminaría siendo oscura e intimidante, que
obligaría a pensar mucho para analizar una expresión. Estos cambios van
en la linea de la simplicidad, sin perder el minimalismo sintáctico que
espero que tenga Ogu.</p>
</section></main>
        <footer id="main-footer"><div class="footer">
  <a href="#">Scroll to Top</a>
  <div class="footer-copyright">
    <div class="dim">© 2025 </div>
    <div>Made with ❤️ and powered by <a href="https://github.com/math-queiroz/rusty-typewriter" target="_blank">Rusty Typewriter</a> theme for <a href="https://gohugo.io/" target="_blank">Hugo</a></div>
  </div>
</div>
</footer>
      </div><aside id="side-pane" class="side-sticky"><div class="side-details">
    <span>725 words</span>
    <span>3 - 5 minutes read</span></div><h3>Related</h3>
    <ul><li><a href="/posts/2011/el-sistema-de-tipos-de-ogu-1/">El sistema de tipos de Ogu (1)</a></li><li><a href="/posts/2011/compiladores/">Compiladores</a></li></ul></aside></div>
  </div>
</body>
</html>
