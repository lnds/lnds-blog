<!DOCTYPE html>
<html lang="es-cl" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>El problema de tinyurl y otros servicios similares | La Naturaleza del Software</title>
<link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml" /><meta property="og:url" content="http://localhost:1313/posts/2007/el-problema-de-tinyurl-y-otros-servicios-similares/">
  <meta property="og:site_name" content="La Naturaleza del Software">
  <meta property="og:title" content="El problema de tinyurl y otros servicios similares">
  <meta property="og:description" content="Este post estaba en borrador, y ahora lo completé como respuesta a una pregunta de FT via twitter,
Si algún día TinyURL o Dev.cl dejan de prestar servicio... ¿mueren todas las URLs cortas creadas?
La respuesta corta es Sí.
Incidentalmente, cuando traté de acortar la url de este post dev.cl me devolvio la url http://dev.cl/.
Ahora la respuesta entretenida:
Aunque las urls cortas tienen varias aplicaciones y ventajas, incluso sirven para comprimir imágenes :wink: la verdad es que hay varios problemas:">
  <meta property="og:locale" content="es_cl">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2007-12-27T08:25:11-03:00">
    <meta property="article:modified_time" content="2007-12-27T08:25:11-03:00">
    <meta property="article:tag" content="Internet">
    <meta property="article:tag" content="Urls">
    <meta property="article:tag" content="Web">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="El problema de tinyurl y otros servicios similares">
  <meta name="twitter:description" content="Este post estaba en borrador, y ahora lo completé como respuesta a una pregunta de FT via twitter,
Si algún día TinyURL o Dev.cl dejan de prestar servicio... ¿mueren todas las URLs cortas creadas?
La respuesta corta es Sí.
Incidentalmente, cuando traté de acortar la url de este post dev.cl me devolvio la url http://dev.cl/.
Ahora la respuesta entretenida:
Aunque las urls cortas tienen varias aplicaciones y ventajas, incluso sirven para comprimir imágenes :wink: la verdad es que hay varios problemas:">

    <link rel="stylesheet" href="/css/root.css">
    <link rel="stylesheet" href="/css/bundle.css">

      <script src="/js/bundle.js"></script><script defer src="/js/search/flexsearch.compact.64594b125f7b78bdf4fa8316955922bbebb1cd6baef3f16654bfca20309f18f8.js" integrity="sha256-ZFlLEl97eL30&#43;oMWlVkiu&#43;uxzWuu8/FmVL/KIDCfGPg="></script>
<script defer src="/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js" integrity="sha256-HZgPhN8R8&#43;t8jF8X9UHUmgYRYI3xed10&#43;n8GIl61as4="></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

</head>
<body class="notransition">
  <div id="container">
    <header id="main-header"><div role="navigation" aria-label="Main">
  <div class="nav-left">
    <a href="http://localhost:1313/" style="color: inherit;">La Naturaleza del Software</a>
  </div>
  <div class="nav-right">
    <div style="position:absolute;width:0px;height:0px;">
      <div id="nav-dropdown-menu" class="hidden" href="#">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a href="https://Newsletter.lnds.net"
      >Newsletter</a>
    </div>
    <div class="nav-item">
      <a href="/books/"
      >Books</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >About</a>
    </div>
</div>
    </div>
    <a id="nav-dropdown-button" href="#"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
    <div id="nav-menu">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >Posts</a>
    </div>
    <div class="nav-item">
      <a href="https://Newsletter.lnds.net"
      >Newsletter</a>
    </div>
    <div class="nav-item">
      <a href="/books/"
      >Books</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >About</a>
    </div>
</div>
    <a id="theme-switcher" href="#">
<svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

<svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
  </div>
</div>
</header>
    <div class="flex grow">
      <div id="main-pane">
        <main id="main-content"><div class="single-header">
<ol class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="http://localhost:1313/">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content='1' />
    </li>
    <span>&nbsp»&nbsp</span>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="http://localhost:1313/posts/">
        <span itemprop="name">Posts</span>
      </a>
      <meta itemprop="position" content='2' />
    </li>
    <span>&nbsp»&nbsp</span>
</ol>
<h1>El problema de tinyurl y otros servicios similares</h1><time class="dim" datetime="2007-12-27T08:25:11-03:00">December 27, 2007</time><div class="term-container"><div class="tag">
        <a href="http://localhost:1313/tag/internet/">#internet</a>
      </div><div class="tag">
        <a href="http://localhost:1313/tag/urls/">#urls</a>
      </div><div class="tag">
        <a href="http://localhost:1313/tag/web/">#web</a>
      </div></ol></div>
  <section class="page-section"><p>Este post estaba en borrador, y ahora lo completé como respuesta a una
pregunta de <a href="http://twitter.com/Francotirador">FT via twitter</a>,</p>
<blockquote>
<p>Si algún día <a href="http://www.tinyurl.com/">TinyURL</a> o
<a href="http://www.dev.cl/">Dev.cl</a> dejan de prestar servicio... ¿mueren
todas las URLs cortas creadas?</p></blockquote>
<p>La respuesta corta es Sí.</p>
<p>Incidentalmente, cuando traté de acortar la url de este post dev.cl me
devolvio la url <a href="http://dev.cl/">http://dev.cl/</a>.</p>
<p>Ahora la respuesta entretenida:</p>
<p>Aunque las urls cortas tienen varias aplicaciones y ventajas, incluso
sirven para <a href="/2006/12/wpeg_el_mejor_algoritmo_de_compresion.html">comprimir imágenes</a>
:wink: la verdad es que hay varios problemas:</p>
<p>Jeff Atwood <a href="http://www.codinghorror.com/blog/archives/000935.html">resume varios de estos problemas</a>:</p>
<ul>
<li>Si el servicio desaparece, las urls quedan rotas para siempre. Tal
como teme FT.</li>
<li>El otro problema es la calidad del servicio, efectivamente un
servicio de este tipo que funcione esporádicamente (con
&ldquo;apagones&rdquo;) puede ser una situación aún peor.</li>
<li>Se pierde la cualquier pista sobre el contenido de la url, al ser
todas esta homogéneas, y estar resumidas en un codigo críptico. Esto
es malo para la experiencia usuario del que está haciendo click en
el enlace.</li>
<li>Hay servicios de redireccionamiento de urls que han sido usados en
formas cuestionables, por ejemplo spammers (fue el caso de lnk.to).</li>
</ul>
<p>Otros problemas que Atwood no identifica son:</p>
<ul>
<li>La redirección introduce latencia.</li>
<li>No es bueno usar esto para cosas como ajax, o web services.</li>
<li>Si tu firewall o proxy reverso bloquea el servicio lo hace
inutilizable</li>
<li>El servicio puede estar lleno de basura, como urls que ya no estan
vigentes, al perder la pista no te enteras hasta que haces el click.</li>
<li>Si una url falla no sabes si es el servicio de compresion el que
falló o si la url original la que tiene problemas.</li>
<li>Tinyurl no maneja bien algunas &ldquo;urls extrañas&rdquo; con caracteres como
la coma (&rsquo;,&rsquo;).</li>
</ul>
<p>A pesar de esto, las urls cortas son útiles en diversos contextos, como
lo demuestra su uso en twitter, o para enviarlas en emails, o en
mensajes SMS.</p>
<p>¿Por qué Google no provee este servicio?</p>
<p>Esa es una buena pregunta, y como dice Atwood, probablemente esto le
daría mayor seguridad al servicio.<br>
A lo mejor han analizado el problema y no ven el negocio para este
servicio, o no quieren complicarse con el problema de los spammers.</p>
<p>Aunque sospecho que no quieren ponerse en una situación tan
incomodamente hegemónica.</p>
<p>Una alternativa sería descentralizar el servicio, una especie de P2P de
urls cortas, una idea que no he explorado, pero puede ser interesante.</p>
<p>(Lo que sí he explorado es la idea de eliminar el DNS, pero eso quedará
para otro post.)</p>
<p>Quizás un análisis interesante sería ver que pasa con estos servicios y
el principio de que las <a href="http://www.w3.org/Provider/Style/URI">urls cools no
cambian</a>.</p>
<p>En primera instancia uno pensaría que al agregar un nivel de indirección
esto servicios pueden ayudar a preservar este principio, pero si
observamos con mayor detención, en realidad complican más el problema.<br>
Efectivamente, si la url inicial cambia, además hay que propagar ese
cambio a todas las urls cortas de todos los servicios de este tipo.</p>
<p>Ahora bien, el problema de la persistencia de las URLs es más complejo
aún, y la caida de servicios tipo tinyurl es sólo una clase de los
problemas asociados a la <a href="http://www.w3.org/DesignIssues/PersistentDomains.html">persistencia de las
URLs</a>.</p>
<h2 id="cómo-implementar-un-servicio-como-este"><strong>¿Cómo implementar un servicio como este?</strong></h2>
<p>Ahora, para finalizar, déjenme criticar la propuesta de Atwood de usar
hash como mecanismo para generar URLs cortas.</p>
<p>Aunque a primera vista parece bueno (algoritmo O(1)), no parece la forma
más práctica para implementar este servicio. Los hashes que muestra
generan strings mucho más largos que los que observamos en estos
servicios.</p>
<p>Mejor optar por un algoritmo O(N log (N)) como el siguiente:</p>
<ol>
<li>Existe una tabla URL, indexado por ID y URL_LARGA</li>
<li>Se recibe una url y se busca por URL_LARGA obteniendo ID o NULL.</li>
<li>Si se obtiene NULL se inserta un nuevo elemento en la tabla y la URL
corta sera la raiz del sitio mas el ID expresado en base 64.</li>
</ol>
<p>Que nos permite generar urls bastante cortas, y es facil de
implementar.<br>
No creo que sea fácil encontrar una función hash que genere strings más
cortos que los que genera este algoritmo.</p>
<p>Como Tip adicional, en vez de realizar la redirección usando PHP, o
Python, yo optaría por escribir un modulo apache en C, o en PERL, esto
aceleraría en al menos un orden de magnitud el servicio (si es que no
más). O quizás creando mi propio servidor web. Y por último, trataría de
mantener la tabla en memoria, o al menos un caché de las URLs más
visitadas.</p>
</section></main>
        <footer id="main-footer"><div class="footer">
  <a href="#">Scroll to Top</a>
  <div class="footer-copyright">
    <div class="dim">© 2025 Eduardo Díaz</div>
    <div>Made with ❤️ and powered by <a href="https://github.com/math-queiroz/rusty-typewriter" target="_blank">Rusty Typewriter</a> theme for <a href="https://gohugo.io/" target="_blank">Hugo</a></div>
  </div>
</div>
</footer>
      </div><aside id="side-pane" class="side-sticky"><div class="side-details">
    <span>745 words</span>
    <span>4 - 5 minutes read</span></div><h3>Table Of Contents</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#cómo-implementar-un-servicio-como-este"><strong>¿Cómo implementar un servicio como este?</strong></a></li>
  </ul>
</nav><h3>Related</h3>
    <ul><li><a href="/posts/2007/lol-cats/">Lol Catz</a></li><li><a href="/posts/2006/el-primer-emprendedor-web-chileno/">El Primer Emprendedor Web Chileno</a></li><li><a href="/posts/2006/wikipediaman-o-el-surgimiento-del-nuevo-pedante-seudo-intelectual/">WikiPediaMan, o el surgimiento del Nuevo Pedante Seudo Intelectual </a></li><li><a href="/posts/2006/10-anos-de-independencia-del-ciber-espacio/">10 años de independencia del ciber espacio</a></li><li><a href="/posts/2005/la-internet-esta-matando-a-los-periodicos/">La internet está matando a los periódicos</a></li></ul></aside></div>
  </div>
</body>
</html>
